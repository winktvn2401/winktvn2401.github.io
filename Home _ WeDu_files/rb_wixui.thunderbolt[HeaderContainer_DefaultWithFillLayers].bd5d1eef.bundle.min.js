!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[HeaderContainer_DefaultWithFillLayers]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[HeaderContainer_DefaultWithFillLayers]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[HeaderContainer_DefaultWithFillLayers]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var n={96114:function(e,t,n){var a;!function(t){"use strict";var r=function(){},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function o(){var e=this;e.reads=[],e.writes=[],e.raf=i.bind(t),r("initialized",e)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(d.bind(null,e)),r("flush scheduled"))}function d(e){r("flush");var t,n=e.writes,a=e.reads;try{r("flushing reads",a.length),e.runTasks(a),r("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(a.length||n.length)&&s(e),t){if(r("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}o.prototype={constructor:o,runTasks:function(e){var t;for(r("run tasks");t=e.shift();)t()},measure:function(e,t){r("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){r("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return r("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(r("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var c=t.fastdom=t.fastdom||new o;void 0===(a=function(){return c}.call(c,n,c,e))||(e.exports=a)}("undefined"!=typeof window?window:void 0!==this?this:globalThis)},42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}};return n[e].call(i.exports,i,i.exports,r),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";r.r(i),r.d(i,{components:function(){return ve}});var e=r(448),t=r.n(e),n=r(5329),a=r.n(n);function o(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}var s=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(a&&(a+=" "),a+=t);return a};var d=e=>{let{id:n,className:r,skinClassName:i,tagName:o="div",transition:d,transitionEnded:l,eventHandlers:c,skinStyles:u,children:m,tabIndex:g}=e;const h=o;return a().createElement(h,t()({id:n,className:s(i,d&&u[d],l&&u.transitionEnded,r),tabIndex:g},c),m)},l="HlRz5e",c=r(42662);const{STATIC_MEDIA_URL:u}=c,m=({fittingType:e,src:t,target:n,options:a})=>{const r=c.getPlaceholder(e,t,n,{...a,autoEncode:!0});return r?.uri&&!/^[a-z]+:/.test(r.uri)&&(r.uri=`${u}${r.uri}`),r},g=/^[a-z]+:/,h=e=>{const{id:t,containerId:a,uri:r,alt:i,name:o="",role:s,width:d,height:c,displayMode:h,devicePixelRatio:f,quality:p,alignType:v,bgEffectName:y="",focalPoint:b,upscaleMethod:w,className:E="",crop:x,imageStyles:I={},targetWidth:T,targetHeight:_,targetScale:M,onLoad:P=(()=>{}),onError:N=(()=>{}),shouldUseLQIP:k,containerWidth:C,containerHeight:S,getPlaceholder:L,isInFirstFold:R,placeholderTransition:H,socialAttrs:O,isSEOBot:F,skipMeasure:A,hasAnimation:W}=e,B=n.useRef(null);let j="";const z="blur"===H,q=n.useRef(null);if(!q.current)if(L||k||R||F){const e={upscaleMethod:w,...p||{},shouldLoadHQImage:R,isSEOBot:F,hasAnimation:W};q.current=(L||m)({fittingType:h,src:{id:r,width:d,height:c,crop:x,name:o,focalPoint:b},target:{width:C,height:S,alignment:v,htmlTag:"img"},options:e}),j=!q.current.transformed||R||F?"":"true"}else q.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const D=!F&&(L||k)&&!R&&q.current.transformed,$=n.useMemo((()=>JSON.stringify({containerId:a,...a&&{containerId:a},...v&&{alignType:v},...A&&{skipMeasure:!0},displayMode:h,...C&&{targetWidth:C},...S&&{targetHeight:S},...T&&{targetWidth:T},..._&&{targetHeight:_},...M&&{targetScale:M},isLQIP:D,isSEOBot:F,lqipTransition:H,imageData:{width:d,height:c,uri:r,name:o,displayMode:h,hasAnimation:W,...p&&{quality:p},...f&&{devicePixelRatio:f},...b&&{focalPoint:b},...x&&{crop:x},...w&&{upscaleMethod:w}}})),[a,v,A,h,S,C,T,_,M,D,F,H,d,c,r,o,p,f,b,x,w,W]),G=q.current,V=G?.uri,Y=G?.srcset,U=G.css?.img,J=`${l} ${E}`;n.useEffect((()=>{const e=B.current;P&&e?.currentSrc&&e?.complete&&P({target:e})}),[]);const K=G&&!G?.transformed?`max(${d}px, 100%)`:T?`${T}px`:null;return n.createElement("wow-image",{id:t,class:J,"data-image-info":$,"data-motion-part":"BG_IMG","data-bg-effect-name":y,"data-has-ssr-src":j,"data-animate-blur":!F&&D&&z?"":void 0,style:K?{"--wix-img-max-width":K}:{}},n.createElement("img",{src:V,ref:B,alt:i||"",role:s,style:{...U,...I},onLoad:P,onError:N,width:C||void 0,height:S||void 0,...O,srcSet:R?Y?.dpr?.map((e=>g.test(e)?e:`${u}${e}`)).join(", "):void 0,fetchpriority:R?"high":void 0,loading:!1===R?"lazy":void 0,suppressHydrationWarning:!0}))};var f="I5zqsT";var p=e=>{var a,r;const{id:i,uri:o,alt:d,role:l,className:c,imageStyles:u={},targetWidth:m,targetHeight:g,onLoad:p,onError:v,containerWidth:y,containerHeight:b,isInFirstFold:w,socialAttrs:E,skipMeasure:x,responsiveImageProps:I,zoomedImageResponsiveOverride:T}=e,_=m||y,M=g||b,P=_+"px";return null!=I&&I.css&&null!=I&&I.srcset?n.createElement("img",t()({fetchpriority:w?"high":void 0,loading:!1===w?"lazy":void 0,sizes:P,srcSet:x?null==T?void 0:T.srcset:null==I?void 0:I.srcset,id:i,src:o,alt:d||"",role:l,style:{...u,...x?{...null==T||null==(a=T.css)?void 0:a.img}:{...null==I||null==(r=I.css)?void 0:r.img}},onLoad:p,onError:v,className:s(c,f),width:_,height:M},E)):n.createElement(h,e)};var v=e=>{var t,a,r;const{className:i,customIdPrefix:o,getPlaceholder:s,hasAnimation:d,...l}=e,c=n.useMemo((()=>JSON.stringify({containerId:l.containerId,alignType:l.alignType,fittingType:l.displayMode,hasAnimation:d,imageData:{width:l.width,height:l.height,uri:l.uri,name:l.name,...l.quality&&{quality:l.quality},displayMode:l.displayMode}})),[l,d]),u=n.useRef(null);u.current||(u.current=s?s({fittingType:l.displayMode,src:{id:l.uri,width:l.width,height:l.height,name:l.name},target:{width:l.containerWidth,height:l.containerHeight,alignment:l.alignType,htmlTag:"bg"},options:{hasAnimation:d,allowAnimatedTransform:!1}}):{uri:void 0,css:{img:{}},attr:{img:{},container:{}}});const m=u.current,g=null!=(t=null==m?void 0:m.uri)?t:"",h=null!=(a=null==(r=m.css)?void 0:r.container)?a:{},f=Object.assign(g?{backgroundImage:"url("+g+")"}:{},h);return n.createElement("wix-bg-image",{id:""+(o||"bgImg_")+l.containerId,class:i,style:f,"data-tiled-image-info":c,"data-has-bg-scroll-effect":l.hasBgScrollEffect||"","data-bg-effect-name":l.bgEffectName||"","data-motion-part":"BG_IMG"})};const y=new RegExp("<%= compId %>","g"),b=(e,t)=>e.replace(y,t);var w=e=>null==e?void 0:e.replace(":hover",""),E="bX9O_S",x="Z_wCwr",I="Jxk_UL",T="K8MSra",_="YTb3b4";const M={quality:{unsharpMask:{radius:.33,amount:1,threshold:0}},devicePixelRatio:1};var P=e=>{const{id:a,videoRef:r,videoInfo:i,posterImageInfo:o,muted:d,preload:l,loop:c,alt:u,isVideoEnabled:m,getPlaceholder:g,extraClassName:h=""}=e;i.containerId=w(i.containerId);const f=n.useMemo((()=>JSON.stringify(i)),[i]),v=n.createElement(n.Fragment,null,o.filterEffectSvgString&&n.createElement("svg",{id:"svg_"+i.containerId,className:_},n.createElement("defs",{dangerouslySetInnerHTML:{__html:b(o.filterEffectSvgString,i.containerId)}})),n.createElement(p,t()({key:i.videoId+"_img",id:o.containerId+"_img",className:s(x,I,"bgVideoposter",h),imageStyles:{width:"100%",height:"100%"}},o,M,{getPlaceholder:g})));return m?n.createElement("wix-video",{id:a,"data-video-info":f,"data-motion-part":"BG_IMG",class:s(E,"bgVideo",h)},n.createElement("video",{key:i.videoId+"_video",ref:r,id:i.containerId+"_video",className:T,crossOrigin:"anonymous","aria-label":u,playsInline:!0,preload:l,muted:d,loop:c,tabIndex:-1}),v):v},N="SUz0WK";var k=e=>{const{id:t,containerId:a,pageId:r,children:i,bgEffectName:o="",containerSize:s}=e;return n.createElement("wix-bg-media",{id:t,class:N,"data-container-id":a,"data-container-size":((null==s?void 0:s.width)||0)+", "+((null==s?void 0:s.height)||0),"data-page-id":r,"data-bg-effect-name":o,"data-motion-part":"BG_MEDIA"},i)};const C="bgOverlay";var S="m4khSP",L="FNxOn5";var R=e=>{const{imageOverlay:a}=e;return n.createElement("div",{"data-testid":C,className:S},a&&n.createElement(v,t()({customIdPrefix:"bgImgOverlay_",className:L},a)))};const H="bgLayers",O="colorUnderlay",F="mediaPadding",A="canvas";var W="MW5IWV",B="N3eg0s",j="Kv1aVt",z="dLPlxY",q="VgO9Yg",D="LWbAav",$="yK6aSC",G="K_YxMd",V="NGjcJN",Y="mNGsUM";const U="bgImage";var J=e=>{const{videoRef:a,canvasRef:r,hasBgFullscreenScrollEffect:i,image:o,backgroundImage:d,backgroundMedia:l,video:c,backgroundOverlay:u,shouldPadMedia:m,extraClass:g="",shouldRenderUnderlay:h=!c,reducedMotion:f=!1,getPlaceholder:y}=e,{onImageLoad:b}=(e=>{let{onReady:t,image:a}=e;return(0,n.useEffect)((()=>{t&&!a&&t()}),[t,a]),{onImageLoad:e=>{null!=a&&a.onLoad&&a.onLoad(e),t&&t()}}})(e),E=w(e.containerId),x="img_"+w(E),I=o&&n.createElement(p,t()({id:x,className:s(j,z,Y,U),imageStyles:{width:"100%",height:"100%"},getPlaceholder:y},o,{onLoad:b})),T=d&&n.createElement(v,t()({},d,{containerId:E,className:s(j,z,Y,U),getPlaceholder:y})),_=c&&n.createElement(P,t()({id:"videoContainer_"+E},c,{extraClassName:$,reducedMotion:f,videoRef:a,getPlaceholder:y})),M=n.createElement(n.Fragment,null,I,T,_,r&&n.createElement("canvas",{id:E+"webglcanvas",ref:r,className:s(G,"webglcanvas"),"aria-label":(null==c?void 0:c.alt)||"",role:"presentation","data-testid":A})),N=l?n.createElement(k,t()({id:"bgMedia_"+E},l),M):n.createElement("div",{id:"bgMedia_"+E,"data-motion-part":"BG_MEDIA",className:q},M),C=u&&n.createElement(R,u);return n.createElement("div",{id:H+"_"+E,"data-hook":H,"data-motion-part":"BG_LAYER",className:s(W,g,{[B]:i})},h&&n.createElement("div",{"data-testid":O,className:s(D,j)}),m?n.createElement("div",{"data-testid":F,className:V},N,C):n.createElement(n.Fragment,null,N,C))},K=r(96114),Q=r.n(K);const Z=()=>"undefined"!=typeof window;function X(){if(!Z())return{x:0,y:0,isAtPageBottom:!1};const{left:e,top:t}=document.body.getBoundingClientRect();return{x:e,y:t,isAtPageBottom:window.innerHeight+window.scrollY===document.body.scrollHeight}}function ee(e,t,a){void 0===a&&(a={}),a={waitFor:100,disabled:!1,...a};const r=(0,n.useRef)(X());let i=null;const o=()=>{Q().measure((()=>{const t=X(),n=r.current;r.current=t,i=null,Q().mutate((()=>e({prevPos:n,currPos:t})))}))};(Z()?n.useLayoutEffect:n.useEffect)((()=>{if(!Z())return;const e=()=>{null===i&&(i=window.setTimeout(o,a.waitFor))};return a.disabled?()=>{}:(window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e),i&&window.clearTimeout(i)})}),t)}var te={screenWidthBackground:"TMFrcJ",HeaderHideToTop:"dkyyRB",headerHideToTop:"dkyyRB",HeaderHideToTopReverse:"L01Zxk",headerHideToTopReverse:"L01Zxk",HeaderFadeOut:"bFRsbd",headerFadeOut:"bFRsbd",transitionEnded:"CwYhEy",HeaderFadeOutReverse:"u_eaP3",headerFadeOutReverse:"u_eaP3",inlineContent:"kn76TK",centeredContent:"YTbrNX",centeredContentBg:"EwS2PT",DefaultWithFillLayers:"x4zVYf",defaultWithFillLayers:"x4zVYf",scrolled:"zxR1mn",fillLayers:"mTQGgy",veloBackground:"QijXjn"};var ne=e=>{let{wrapperProps:a,fillLayers:r,children:i}=e;const[o,l]=n.useState(!1);return ee((e=>{let{currPos:t}=e;-1*t.y>=2?o||l(!0):o&&l(!1)}),[o]),n.createElement(d,t()({},a,{skinClassName:te.DefaultWithFillLayers,skinStyles:te}),n.createElement("div",{className:s(te.screenWidthBackground,o&&te.scrolled)},r&&n.createElement(J,t()({},r,{extraClass:te.fillLayers})),n.createElement("div",{className:te.veloBackground})),n.createElement("div",{className:te.inlineContent},i))};const ae="wixui-",re=(e,...t)=>{const n=[];return e&&n.push(`${ae}${e}`),t.forEach((e=>{e&&(n.push(`${ae}${e}`),n.push(e))})),n.join(" ")},ie="mesh-container-content",oe="inline-content",se=e=>a().createElement("div",{key:e.props.id+"-rotated-wrapper","data-mesh-id":e.props.id+"-rotated-wrapper"},e),de=(e,n)=>{const{id:r,className:i,wedges:o=[],rotatedComponents:d=[],children:l,fixedComponents:c=[],extraClassName:u="",renderRotatedComponents:m=se}=e,g=a().Children.toArray(l()),h=[],f=[];g.forEach((e=>c.includes(e.props.id)?h.push(e):f.push(e)));const p=(e=>{const{wedges:t,rotatedComponents:n,childrenArray:r,renderRotatedComponents:i}=e,o=n.reduce(((e,t)=>({...e,[t]:!0})),{});return[...r.map((e=>{return o[(t=e,t.props.id.split("__")[0])]?i(e):e;var t})),...t.map((e=>a().createElement("div",{key:e,"data-mesh-id":e})))]})({childrenArray:f,rotatedComponents:d,wedges:o,renderRotatedComponents:m});return a().createElement("div",t()({},(e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{}))(e),{"data-mesh-id":r+"inlineContent","data-testid":oe,className:s(i,u),ref:n}),a().createElement("div",{"data-mesh-id":r+"inlineContent-gridContainer","data-testid":ie},p),h)};var le=a().forwardRef(de);var ce={root:"header"};const ue="Reverse",me="up",ge="down";var he=e=>{const{id:r,skin:i,children:o,animations:d,meshProps:l,className:c,customClassNames:u=[],fillLayers:m,isHeaderTag:g}=e,[h,f]=(0,n.useState)(""),[p,v]=(0,n.useState)(!1),y=e=>{f(e),v(!1)};(0,n.useEffect)((()=>{window.TransitionEvent||setTimeout((()=>v(!0)),200)}),[h]);const b=h&&!(e=>e.endsWith(ue))(h),w=()=>{const e=(e=>""+e+ue)(h);y(e)},E={onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDblClick,onFocus:b?w:void 0,onTransitionEnd:()=>v(!0)};let x=ge,I=0;ee((e=>{var t,n;let{currPos:a,prevPos:r}=e;const i=a.y&&-1*a.y,o=r.y&&-1*r.y,s=d[d.length-1],l=null==(t=s.params)||null==(t=t.animations)?void 0:t[s.params.animations.length-1];if(!l)return;const c="mobile"===(null==(n=s.viewMode)?void 0:n.toLowerCase())?1:(e=>{switch(e){case"HeaderFadeOut":return 200;case"HeaderHideToTop":return 400;default:return null}})(l.name);c&&(((e,t)=>{x===ge&&e<t?(I=t,x=me):x===me&&e>t&&e>=0&&t>=0&&(I=t,x=ge)})(i,o),b?(x===me&&i+c<I||0===a.y)&&w():x===ge&&i-I>=c&&y(l.name))}),[h,d],{disabled:!d||!d.length});const T=s(c,re(ce.root,...u));return a().createElement(i,{wrapperProps:{id:r,...g&&{tagName:"header"},eventHandlers:E,className:T,transition:h,transitionEnded:p,tabIndex:"-1"},"data-block-level-container":"HeaderContainer",fillLayers:m},a().createElement(le,t()({id:r},l,{children:o})))};const fe=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var pe;const ve={HeaderContainer_DefaultWithFillLayers:{component:e=>a().createElement(he,t()({},e,{skin:ne})),controller:(pe=e=>{let{mapperProps:t,controllerUtils:a}=e;const{updateStyles:r}=a,{compId:i,marginTop:o,isMobileView:s,isFixed:d,...l}=t;var c;return c=()=>{var e;const t=((null==(e=window.document.getElementById(i))?void 0:e.clientHeight)||0)>=window.document.body.clientHeight/2;s&&d&&t&&r({position:"relative !important",marginTop:o,top:0})},(0,n.useEffect)(c,[]),l},{useComponentProps:(e,t,n)=>{const a=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(a=t,a.startsWith("--")?t:fe(t))]:void 0===n?null:n};var a}),{});e.updateStyles(n)}}))(n);return pe({mapperProps:e,stateValues:t,controllerUtils:a})}})}}}(),i}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[HeaderContainer_DefaultWithFillLayers].bd5d1eef.bundle.min.js.map